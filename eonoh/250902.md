닉네임: eonoh

문제 플랫폼: 백준

문제 이름 또는 번호: 17471 / 게리맨더링

문제 링크: https://www.acmicpc.net/problem/17471

오늘의 메모(선택): 처음에는 연결되어있는지 확인할 때 단순히 두 노드가 연결되어 있는지만 보면 된다고 생각했는데 뭔가 bfs 를 써야할 것 같기도 하고,,!? ㅠㅠ

코드(선택): cpp

```cpp
#include <iostream>
#include <vector>
using namespace std;

int n, min, result, trueNum;
vector<vector<int> > area(11, vector<int>(10));
int population[11];
bool isPicked[11];

void init() {
	for (int i = 0; i <= n; i++) {
		area[i].clear();
	}
	memset(population, 0, sizeof(population));
	memset(isPicked, false, sizeof(isPicked));
	result = 0;
	min = INT_MAX;
	trueNum = 0;
}

int checkPickedConnection() {
	for (int i = 1; i <= n; i++) {
		if (isPicked[i] == true) {
			for (int x : area[i]) {
				if (isPicked[x] == true) {
					return 1;
				}
			}
		}
	}
	return 0;
}

int checkUnpickedConnection() {
	for (int i = 1; i <= n; i++) {
		if (isPicked[i] == false) {
			for (int x : area[i]) {
				if (isPicked[x] == false) {
					return 1;
				}
			}
		}
	}
}

int calculatePopulationDiff() {
	int aPopulation = 0, bPopulation = 0;

	for (int i = 1; i <= n; i++) {
		if (isPicked[i]) aPopulation += population[i];
		else bPopulation += population[i];
	}
	return abs(aPopulation - bPopulation);
}

void combination(int cnt, int next, int k) {
	if (cnt == k) {
		for (int i = 0; i <= n; i++) {
			cout << isPicked[i] << " ";
		}
		cout << endl;
		if (checkPickedConnection() && checkUnpickedConnection()) {
			int diff = calculatePopulationDiff();
			if (diff < min) {
				min = diff;
				cout << "diff: " << diff << endl;
			}
			trueNum++;
		}
	}
	for (int i = next; i <= n; i++) {
		isPicked[i] = true;
		combination(cnt + 1, i + 1, k);
		isPicked[i] = false;
	}
}

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);

	cin >> n;
	init();
	for (int i = 0; i < n; i++) {
		cin >> population[i + 1];
	}
	for (int i = 1; i <= n; i++) {
		int t;
		cin >> t;
		for (int j = 0; j < t; j++) {
			int u;
			cin >> u;
			area[i].push_back(u);
			area[u].push_back(i);
		}
	}
	for (int r = 0; r <= n; r++) {
		combination(0, 1, r);
	}
	if (!trueNum) min = -1;
	cout << min << "\n";
	return 0;
}

```
