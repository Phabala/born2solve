**닉네임**: kyouhele

**문제 플랫폼**: 프로그래머스

**문제 이름 또는 번호**: 시험장 나누기

**문제 링크**: https://school.programmers.co.kr/learn/courses/30/lessons/81305

**오늘의 메모(선택)**: 오... 구현 어렵다.. 거.. 다시 도전 해보겠습니다..조만간

**코드(선택)**:

```c++
#include <bits/stdc++.h>
using namespace std;

struct Node {
    int left, right;
};

pair<int, int> dfs(int cur, const vector<Node>& tree, const vector<int>& num, int limit) {
    if (cur == -1) return {0, 0};

    auto [sum_left, groups_l] = dfs(tree[cur].left, tree, num, limit);
    auto [sum_right, groups_r] = dfs(tree[cur].right, tree, num, limit);

    int groups = groups_l + groups_r;
    int val = num[cur];

    if (sum_left + sum_right + val <= limit)
        return {sum_left + sum_right + val, groups};

    if (min(sum_left, sum_right) + val <= limit)
    {
        groups += 1;
        return {min(sum_left, sum_right) + val, groups};
    }

    groups += 2;
    return {val, groups};
}

bool canDivide(int root, const vector<Node>& tree, const vector<int>& num, int k, int limit) {
    auto [_, groups] = dfs(root, tree, num, limit);
    return groups + 1 <= k;
}

int findMinLimit(int root, const vector<Node>& tree, const vector<int>& num, int k) {
    int low = *max_element(num.begin(), num.end());
    int high = accumulate(num.begin(), num.end(), 0);
    int answer = high;

    while (low <= high) {
        int mid = (low + high) / 2;
        if (canDivide(root, tree, num, k, mid))
        {
            answer = mid;
            high = mid - 1;
        }
        else
            low = mid + 1;
    }
    return answer;
}

int solution(int k, vector<int> num, vector<vector<int>> links) {
    int n = num.size();
    vector<Node> tree(n);
    vector<bool> is_child(n, false);

    for (int i = 0; i < n; i++) {
        tree[i] = {links[i][0], links[i][1]};
        if (links[i][0] != -1) is_child[links[i][0]] = true;
        if (links[i][1] != -1) is_child[links[i][1]] = true;
    }

    int root = find(is_child.begin(), is_child.end(), false) - is_child.begin();

    return findMinLimit(root, tree, num, k);
}

```
