**닉네임**: sejjeong

**문제 플랫폼**: 프로그래머스


**문제 이름 또는 번호**: 
                베스트앨범(Lv3, 정답률 56%)

**문제 링크**: https://school.programmers.co.kr/learn/courses/30/lessons/42579


**오늘의 메모(선택)**: 
            해결


**코드(선택)**:



```C++
#include <string>
#include <vector>
#include <unordered_map>
#include <iostream>

using namespace std;

struct Data
{
    Data()
        : totalPlay(0)
    {
        
    }
    unordered_map<int, int> idAndValues;
    int totalPlay;
};

vector<int> solution(vector<string> genres, vector<int> plays) {
    // 장르별로 가장 많이 재생된 노래 두개씩?
    // 1번, 팝 두곡 9만 7만이고, 발라드 5만 3만이면  팝 두곡을 먼저 수록하겠다.
    // 2번, 팝이어도 9만을 먼저
    // 같으면 ID가 낮은애로
    
    // 장르 별로 담기, 
    // map이 두 개겠네, 
    // map 하나 < 장르 , <ID, 밸류>>
    unordered_map<string, Data> datas;
    
    for (size_t i = 0; i < genres.size(); ++i)
    {
        Data& data = datas[genres[i]];
        data.idAndValues[i] = plays[i];
        data.totalPlay += plays[i];
    }
    
    vector<int> answer;
  
    while (datas.size() != 0)
    {
        int max = -1;
        string genre;
        for (const auto& genreAndData : datas)
        {
             if (genreAndData.second.totalPlay > max)
             {
                 genre = genreAndData.first;
                 max = genreAndData.second.totalPlay;
             }
        }
        
        Data& data = datas[genre];
        
        if (data.idAndValues.size() == 1)
        {
            for (auto idAndValue : data.idAndValues)
            {
                answer.push_back(idAndValue.first);
            }
        }
        else
        {
            max = -1;
            int secondMax = -1;
            int maxId = -1;
            int secondId = -1;
            for (auto idAndValue : data.idAndValues)
            {
                int id = idAndValue.first;
                int value = idAndValue.second;
                if (value > max || (value == max && maxId > id))
                {
                    secondMax = max;
                    secondId = maxId;
                    max = value;
                    maxId = id;
                }
                else if (value >= secondMax || (value == secondMax && maxId > secondId))
                {
                    secondMax = value;
                    secondId = id;
                }
            }
            answer.push_back(maxId);
            answer.push_back(secondId);
            
        }
        datas.erase(genre);
    }

    
    return answer;
}

```